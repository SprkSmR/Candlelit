[gd_scene load_steps=30 format=2]

[ext_resource path="res://Ojos.png" type="Texture" id=1]
[ext_resource path="res://Vela.png" type="Texture" id=2]
[ext_resource path="res://Idle_Miembros.png" type="Texture" id=3]
[ext_resource path="res://Vela_personaje.gd" type="Script" id=4]
[ext_resource path="res://Flama.png" type="Texture" id=5]
[ext_resource path="res://Cera Estados.png" type="Texture" id=6]
[ext_resource path="res://Caminar_Miembros_Frontal.png" type="Texture" id=7]

[sub_resource type="Animation" id=1]
resource_name = "Caminar_vela_Frente"
length = 1.4
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Visual/Fijo/Miembros:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 3.73213 ),
"update": 1,
"values": [ ExtResource( 7 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Visual/Fijo/Miembros:vframes")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 4 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Visual/Fijo/Miembros:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14 ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Visual/Mobil:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3 ),
"transitions": PoolRealArray( 9.9152e-05, 0.000541782, 0.000300572, 0.000601145, 0.000560888, 2.3128e-05, 5.69478e-05, 0.00497876, 0.000793216, 0.00142977, 0.000471649, 0.00188659, 4.02682e-05, 0.000740096 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, -4 ), Vector2( 0, -10 ), Vector2( 0, -12 ), Vector2( 0, -8 ), Vector2( 0, -4 ), Vector2( 0, 0 ), Vector2( 0, 10 ), Vector2( 0, 5 ), Vector2( 0, -3 ), Vector2( 0, -8 ), Vector2( 0, -10 ), Vector2( 0, -12 ), Vector2( 0, 0 ) ]
}

[sub_resource type="Animation" id=2]
resource_name = "Cera_vela"
tracks/0/type = "value"
tracks/0/path = NodePath("Visual/Mobil/Cera:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4, 4, 5, 6, 7, 7 ]
}

[sub_resource type="Animation" id=3]
resource_name = "Flama"
length = 0.3
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Visual/Mobil/Flama:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2 ]
}

[sub_resource type="Animation" id=4]
length = 1.5
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Visual/Fijo/Miembros:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.6, 0.8, 1, 1.2, 1.4 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 2, 3, 4, 5, 6, 7 ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Visual/Mobil:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.2, 0.4, 0.6, 0.8, 1, 1.201, 1.4 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, -8 ), Vector2( 0, -10 ), Vector2( 0, -10 ), Vector2( 0, -10 ), Vector2( 0, -8 ), Vector2( 0, -4 ), Vector2( 0, 0 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Visual/Fijo/Miembros:texture")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ ExtResource( 3 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Visual/Fijo/Miembros:vframes")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ 2 ]
}

[sub_resource type="Animation" id=5]
resource_name = "Parpadeo_vela"
length = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath("Visual/Mobil/Ojos:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 1,
"values": [ 0, 1, 0 ]
}

[sub_resource type="AnimationNodeAnimation" id=6]
animation = "Parpadeo_vela"

[sub_resource type="AnimationNodeAnimation" id=7]
animation = "Flama"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "Caminar_vela_Frente"

[sub_resource type="AnimationNodeBlend2" id=9]
sync = true

[sub_resource type="AnimationNodeOneShot" id=10]
sync = true

[sub_resource type="AnimationNodeBlendTree" id=11]
graph_offset = Vector2( -159.537, 60.937 )
nodes/Animation/node = SubResource( 8 )
nodes/Animation/position = Vector2( -40, 120 )
"nodes/Animation 2/node" = SubResource( 6 )
"nodes/Animation 2/position" = Vector2( 20, 240 )
"nodes/Animation 3/node" = SubResource( 7 )
"nodes/Animation 3/position" = Vector2( 240, 460 )
nodes/Blend2/node = SubResource( 9 )
nodes/Blend2/position = Vector2( 440, 280 )
nodes/OneShot/node = SubResource( 10 )
nodes/OneShot/position = Vector2( 220, 160 )
nodes/output/position = Vector2( 640, 340 )
node_connections = [ "output", 0, "Blend2", "OneShot", 0, "Animation", "OneShot", 1, "Animation 2", "Blend2", 0, "OneShot", "Blend2", 1, "Animation 3" ]

[sub_resource type="AnimationNodeAnimation" id=12]
animation = "Parpadeo_vela"

[sub_resource type="AnimationNodeAnimation" id=13]
animation = "Idle_vela_Frente"

[sub_resource type="AnimationNodeAnimation" id=14]
animation = "Flama"

[sub_resource type="AnimationNodeBlend2" id=15]
sync = true

[sub_resource type="AnimationNodeOneShot" id=16]
sync = true

[sub_resource type="AnimationNodeBlendTree" id=17]
graph_offset = Vector2( 0, 331.915 )
nodes/Animation/node = SubResource( 14 )
nodes/Animation/position = Vector2( 220, 560 )
"nodes/Animation 2/node" = SubResource( 12 )
"nodes/Animation 2/position" = Vector2( 0, 460 )
"nodes/Animation 3/node" = SubResource( 13 )
"nodes/Animation 3/position" = Vector2( 0, 340 )
nodes/Blend2/node = SubResource( 15 )
nodes/Blend2/position = Vector2( 420, 420 )
nodes/OneShot/node = SubResource( 16 )
nodes/OneShot/position = Vector2( 200, 380 )
nodes/output/position = Vector2( 640, 420 )
node_connections = [ "output", 0, "Blend2", "OneShot", 0, "Animation 3", "OneShot", 1, "Animation 2", "Blend2", 0, "OneShot", "Blend2", 1, "Animation" ]

[sub_resource type="AnimationNodeStateMachineTransition" id=18]

[sub_resource type="AnimationNodeStateMachineTransition" id=19]

[sub_resource type="AnimationNodeStateMachine" id=20]
states/caminar/node = SubResource( 11 )
states/caminar/position = Vector2( 373, 66 )
states/idle/node = SubResource( 17 )
states/idle/position = Vector2( 159, 66 )
transitions = [ "idle", "caminar", SubResource( 18 ), "caminar", "idle", SubResource( 19 ) ]
start_node = "idle"
graph_offset = Vector2( 0, -31.768 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=21]

[sub_resource type="RectangleShape2D" id=22]
extents = Vector2( 76.7193, 143.294 )

[node name="Vela" type="KinematicBody2D"]
scale = Vector2( 0.5, 0.5 )
script = ExtResource( 4 )

[node name="Visual" type="Sprite" parent="."]
position = Vector2( 0, -4 )

[node name="Mobil" type="Sprite" parent="Visual"]
position = Vector2( 0, -9.90244 )

[node name="Vela" type="Sprite" parent="Visual/Mobil"]
texture = ExtResource( 2 )

[node name="Cera" type="Sprite" parent="Visual/Mobil"]
texture = ExtResource( 6 )
vframes = 2
hframes = 4

[node name="Flama" type="Sprite" parent="Visual/Mobil"]
position = Vector2( 0, -273 )
scale = Vector2( 0.799457, 0.799457 )
texture = ExtResource( 5 )
hframes = 3

[node name="Disparador" type="Position2D" parent="Visual/Mobil/Flama"]
position = Vector2( 0, 188.878 )
scale = Vector2( 1.25085, 1.25085 )

[node name="Ojos" type="Sprite" parent="Visual/Mobil"]
position = Vector2( 0, 48.7401 )
texture = ExtResource( 1 )
hframes = 2

[node name="Fijo" type="Sprite" parent="Visual"]
position = Vector2( 0, -1.25992 )

[node name="Miembros" type="Sprite" parent="Visual/Fijo"]
texture = ExtResource( 3 )
vframes = 2
hframes = 4
frame = 1

[node name="Animaciones" type="AnimationPlayer" parent="."]
anims/Caminar_vela_Frente = SubResource( 1 )
anims/Cera_vela = SubResource( 2 )
anims/Flama = SubResource( 3 )
anims/Idle_vela_Frente = SubResource( 4 )
anims/Parpadeo_vela = SubResource( 5 )

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource( 20 )
anim_player = NodePath("../Animaciones")
active = true
parameters/playback = SubResource( 21 )
parameters/caminar/Blend2/blend_amount = 0.5
parameters/caminar/OneShot/active = false
parameters/idle/Blend2/blend_amount = 0.5
parameters/idle/OneShot/active = false

[node name="Fisico" type="CollisionShape2D" parent="."]
position = Vector2( -1.7818, -13.5997 )
shape = SubResource( 22 )
